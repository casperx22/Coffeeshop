<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kedai Bathara | Ngopi Santai, Rasa Membahana</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Variabel Warna Retro */
        :root {
            --color-primary: #8b4513; /* Cokelat Tua (Kopi) */
            --color-secondary: #f0e68c; /* Kuning Pucat (Khaki) */
            --color-accent: #a52a2a; /* Merah Bata/Karat */
            --color-text-dark: #36454F; /* Abu-abu Arang */
            --color-text-light: #f5f5dc; /* Krem */
            --color-background: #fff8e1; /* Kuning Pucat Lembut */
            --font-main: 'Roboto Slab', serif;
            --font-heading: 'Oswald', sans-serif;
        }

        /* Reset Dasar */
        body {
            font-family: var(--font-main);
            margin: 0;
            padding: 0;
            background-color: var(--color-background);
            color: var(--color-text-dark);
            line-height: 1.6;
            transition: all 0.5s ease-in-out;
        }

        /* Struktur Navigasi */
        .header {
            background-color: var(--color-primary);
            color: var(--color-text-light);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-family: var(--font-heading);
            font-size: 2em;
            font-weight: 700;
            color: var(--color-secondary);
            text-shadow: 2px 2px var(--color-accent);
        }

        .nav-links {
            display: flex;
            align-items: center;
        }

        .nav-links button, .cart-button {
            background: none;
            border: none;
            color: var(--color-text-light);
            font-size: 1.1em;
            font-family: var(--font-heading);
            margin-left: 20px;
            cursor: pointer;
            padding: 5px 10px;
            text-transform: uppercase;
            transition: color 0.3s, text-shadow 0.3s;
            position: relative; /* Untuk badge keranjang */
        }
        
        /* Badge Keranjang */
        .cart-badge {
            background-color: var(--color-accent);
            color: white;
            border-radius: 50%;
            padding: 3px 7px;
            font-size: 0.7em;
            font-weight: bold;
            position: absolute;
            top: 0;
            right: 0;
            display: none; 
            line-height: 1;
        }

        .nav-links button:hover, .cart-button:hover {
            color: var(--color-secondary);
            text-shadow: 1px 1px var(--color-accent);
        }

        /* Struktur Halaman */
        .page {
            min-height: 80vh;
            padding: 50px 5%;
            display: none;
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page.active {
            display: block;
        }

        /* --- Styling Konten (dipertahankan) --- */
        #home {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: url('https://i.pinimg.com/1200x/f1/79/83/f17983147805f8d34257a3f3e2a6b8f5.jpg') no-repeat center center/cover;
            color: var(--color-text-light);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }
        #home h1 {
            font-family: var(--font-heading);
            font-size: 4em;
            margin-bottom: 0.5em;
            border: 5px solid var(--color-secondary);
            padding: 10px 20px;
            display: inline-block;
            background-color: rgba(139, 69, 19, 0.7);
        }
        .cta-button {
            background-color: var(--color-accent);
            color: var(--color-text-light);
            border: 3px solid var(--color-secondary);
            padding: 15px 30px;
            font-size: 1.5em;
            font-family: var(--font-heading);
            cursor: pointer;
            margin-top: 20px;
            text-transform: uppercase;
            box-shadow: 4px 4px 0px var(--color-text-dark);
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        #menu h2 {
            font-family: var(--font-heading);
            font-size: 3em;
            color: var(--color-primary);
            border-bottom: 4px solid var(--color-accent);
            padding-bottom: 10px;
            margin-bottom: 40px;
            text-align: center;
        }
        .menu-category {
            margin-bottom: 50px;
            background-color: #fcebb6;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 6px 6px 0px var(--color-primary);
        }
        .menu-category h3 {
            font-family: var(--font-heading);
            font-size: 2em;
            color: var(--color-accent);
            text-transform: uppercase;
            margin-top: 0;
            margin-bottom: 25px;
            border-bottom: 2px dashed var(--color-primary);
            padding-bottom: 10px;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 15px 0;
            border-bottom: 1px dashed var(--color-text-dark);
        }
        .item-name { font-weight: 700; font-size: 1.2em; color: var(--color-primary); }
        .item-desc { font-size: 0.9em; color: var(--color-text-dark); margin-top: 5px; }
        .item-price {
            font-family: var(--font-heading);
            font-size: 1.3em;
            font-weight: 700;
            color: var(--color-accent);
            background-color: var(--color-secondary);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer; 
            transition: transform 0.1s;
        }
        .item-price:active { transform: scale(0.95); }
        /* --- Akhir Styling Konten --- */

        /* --- BASE MODAL STYLING --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            padding-top: 20px;
            animation: modalFadeIn 0.3s ease-out;
        }
        .modal-content {
            background-color: var(--color-background);
            margin: 5% auto;
            padding: 30px;
            border: 5px solid var(--color-primary);
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        .close-button {
            color: var(--color-accent);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        #modal-item-name, #cart-title, #payment-title {
            font-family: var(--font-heading);
            font-size: 2em;
            color: var(--color-primary);
            margin-top: 0;
        }
        /* --- Detail Styling (dipertahankan) --- */
        .modal-total {
            font-family: var(--font-heading);
            font-size: 1.8em;
            color: var(--color-accent);
            margin: 20px 0;
        }
        /* --- Styling Pembayaran (Payment Modal) --- */
        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }
        .payment-option {
            border: 2px solid var(--color-primary);
            padding: 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .payment-option:hover {
            background-color: var(--color-secondary);
        }
        .payment-option img {
            width: 60px; 
            max-height: 35px; 
            object-fit: contain; 
            margin-right: 15px;
            border-radius: 4px;
            background-color: white; 
            padding: 2px;
        }
        .payment-option span {
            font-family: var(--font-heading);
            font-size: 1.2em;
            color: var(--color-text-dark);
        }
        .payment-total-final {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: 20px;
            text-align: center;
            border-top: 1px solid var(--color-primary);
            padding-top: 15px;
        }
        /* Style untuk gambar QRIS yang berfungsi sebagai tombol */
        #qris-button-image {
            width: 100%;
            max-width: 200px; /* Batasi lebar agar tidak terlalu besar di daftar */
            height: auto;
            border: 3px solid var(--color-primary);
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        #qris-button-image:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Style untuk Modal Tampilan QRIS Penuh */
        #qrisModalContent {
            text-align: center;
            padding: 20px;
        }
        #qrisModalContent h4 {
            color: var(--color-primary);
            font-family: var(--font-heading);
            font-size: 1.8em;
        }
        #qrisModalContent img {
            width: 100%;
            max-width: 300px;
            height: auto;
            border: 5px solid var(--color-accent);
            margin-bottom: 15px;
        }
        /* Responsif Sederhana */
        @media (max-width: 768px) {
            .logo { font-size: 1.5em; }
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">Kedai Bathara</div>
        <nav class="nav-links">
            <button onclick="showPage('home')" id="nav-home">Beranda</button>
            <button onclick="showPage('menu')" id="nav-menu">Menu</button> 
            <button onclick="showPage('about')" id="nav-about">Tentang Kami</button>
            <button class="cart-button" onclick="showCartModal()">
                üõí Keranjang <span id="cart-badge" class="cart-badge">0</span>
            </button>
        </nav>
    </header>

    <main id="home" class="page active">
        <h1>Ngopi Santai, Bikin Hidup Penuh Warna Warni</h1>
        <p>Tempat ngopi terbaik dengan suasana vintage dan cita rasa kopi lokal Kediri.</p>
        <button class="cta-button" onclick="showPage('menu')">Lihat Menu Kami</button>
    </main>

    <section id="menu" class="page">
        <h2>üìú Menu Pilihan Kedai Bathara ‚òï</h2>

        <div class="menu-category">
            <h3>‚òï Kopi Klasik & Kekinian</h3>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Americano</div>
                    <div class="item-desc">Espresso murni disajikan dengan air panas/dingin. Pilihan classic untuk pecinta kopi sejati.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 8.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Kopi Susu</div>
                    <div class="item-desc">Paduan espresso, susu, dan gula aren yang manis dan creamy. Sederhana, namun selalu nikmat.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 8.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Kopi Susu Butter</div>
                    <div class="item-desc">Kopi susu yang ditambah butter untuk rasa gurih. Wajib coba!</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 12.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Vietnam Drip</div>
                    <div class="item-desc">Kopi tubruk pekat khas Vietnam yang diteteskan perlahan, dicampur susu kental manis.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 8.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Kopi Susu O</div>
                    <div class="item-desc">Racikan kopi susu otentik dengan resep rahasia Bathara. Lebih unik dan kuat rasanya.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 9.000</div>
            </div>
        </div>

        <div class="menu-category">
            <h3>ü•õ Non-Kopi & Teh Segar</h3>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Susu</div>
                    <div class="item-desc">Susu murni (panas/dingin). Pilihan sederhana yang menyehatkan.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 8.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Susu Jahe</div>
                    <div class="item-desc">Susu panas dengan jahe bakar yang menghangatkan, cocok untuk malam yang dingin.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 9.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Milktea</div>
                    <div class="item-desc">Teh dengan susu, perpaduan sempurna antara pahit dan manis.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Lychee Tea</div>
                    <div class="item-desc">Teh dengan rasa leci yang manis dan aroma buah yang menyegarkan.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 12.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Lemon Tea</div>
                    <div class="item-desc">Teh dengan perasan lemon asli. Segar, asam, dan manis.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 12.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Cokelat Panas/Dingin</div>
                    <div class="item-desc">Cokelat premium yang kental dan kaya rasa. Kenyamanan dalam setiap tegukan.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 12.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Matcha Latte</div>
                    <div class="item-desc">Teh hijau Jepang yang lembut, disajikan dengan susu creamy.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 14.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Red Velvet</div>
                    <div class="item-desc">Minuman velvet dengan rasa *cream cheese* yang unik dan warna merah memukau.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 14.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Cookies and Cream</div>
                    <div class="item-desc">Minuman dengan campuran biskuit dan krim yang manis dan crunchy.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 14.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Taro</div>
                    <div class="item-desc">Minuman ubi talas dengan rasa manis earthy dan warna ungu yang khas.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 13.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Banana Cream</div>
                    <div class="item-desc">Perpaduan pisang dan krim yang lembut dan manis. Rasa yang unik dan menyegarkan.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 13.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Joshua</div>
                    <div class="item-desc">Minuman soda dengan sirup dan sedikit perasan jeruk nipis.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 7.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Squash Melon</div>
                    <div class="item-desc">Minuman squash rasa melon yang dingin dan menyegarkan.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Squash Leci</div>
                    <div class="item-desc">Minuman squash rasa leci dengan potongan buah.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
        </div>

        <div class="menu-category">
            <h3>üçö Makanan Berat & Camilan Pengisi Energi</h3>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Nasi Ayam Sambel</div>
                    <div class="item-desc">Nasi hangat dengan ayam goreng dan sambal pedas khas Bathara. Menu andalan!</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 15.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Nasi Goreng</div>
                    <div class="item-desc">Nasi yang digoreng dengan bumbu rempah spesial dan topping telur.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 13.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Nasi Bakar Ayam Suwir</div>
                    <div class="item-desc">Nasi yang dibakar dengan daun pisang, berisi ayam suwir pedas. Aromanya menggugah selera.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 15.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Nasi Telur Sambel</div>
                    <div class="item-desc">Nasi hangat dengan telur dadar/ceplok dan sambal pedas.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 13.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Bakmi Asin</div>
                    <div class="item-desc">Mie goreng dengan bumbu asin gurih, disajikan dengan bakso dan sayuran.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 15.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Kentang Goreng</div>
                    <div class="item-desc">Kentang goreng renyah disajikan dengan saus sambal dan mayonaise.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Tahu Krispi</div>
                    <div class="item-desc">Tahu yang digoreng hingga krispi, gurih dan nikmat.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Cireng Ayam Suwir</div>
                    <div class="item-desc">Cireng dengan isian ayam suwir pedas, kenyal di luar, pedas di dalam.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Dimsum Mentai</div>
                    <div class="item-desc">Dimsum kukus dengan saus mentai yang dibakar sebentar.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 12.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Mix Platter</div>
                    <div class="item-desc">Campuran snack seperti sosis, nugget, dan kentang. Cocok untuk sharing.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 13.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Tempe Mendoan</div>
                    <div class="item-desc">Tempe yang digoreng setengah matang dengan adonan tepung berbumbu.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
            <div class="menu-item">
                <div class="item-info">
                    <div class="item-name">Sosis Goreng</div>
                    <div class="item-desc">Sosis yang digoreng dan disajikan dengan saus favorit Anda.</div>
                </div>
                <div class="item-price" onclick="showModal(this)">Rp 10.000</div>
            </div>
        </div>
    </section>

    <section id="about" class="page">
        <h2>üõ†Ô∏è Tentang Kedai Bathara</h2>
        <p>Kedai Bathara didirikan dengan semangat untuk menyajikan kopi lokal terbaik di Kediri. Nama "Bathara" diambil dari mitologi Jawa, melambangkan keagungan dan kualitas. Kami percaya bahwa setiap cangkir kopi harus memiliki cerita dan karakter. Dengan suasana retro yang hangat, kami mengundang Anda untuk bersantai, menikmati setiap tegukan, dan merasa seperti di rumah sendiri.</p>
        <p>Kami berkomitmen menggunakan bahan-bahan segar, mulai dari biji kopi pilihan hingga rempah-rempah asli. Baik Anda mencari tempat untuk bekerja, bertemu teman, atau sekadar menikmati *me-time*, Kedai Bathara adalah pilihan yang tepat. Selamat datang di kedai kami!</p>
        
    </section>

    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('orderModal')">&times;</span>
            <h3 id="modal-item-name">Nama Item</h3>
            <p class="modal-item-desc" id="modal-item-desc"></p>
            <div class="modal-price-display">
                Harga Satuan: <span id="modal-item-price-text">Rp 0</span>
            </div>
            
            <hr>

            <div class="modal-controls">
                <label for="quantity">Jumlah Pesanan:</label>
                <div class="quantity-control">
                    <button onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1" readonly>
                    <button onclick="changeQuantity(1)">+</button>
                </div>
            </div>

            <div class="modal-total">
                Total: <span id="modal-total-price">Rp 0</span>
            </div>

            <button class="add-to-cart-button" onclick="addToCart()">
                ‚ûï Tambahkan ke Keranjang
            </button>
        </div>
    </div>
    
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('cartModal')">&times;</span>
            <h3 id="cart-title">üõí Keranjang Belanja Anda</h3>

            <div id="empty-cart-message" style="text-align: center; margin: 30px 0; display: none;">
                Keranjang Anda kosong. Yuk, pesan kopi dulu!
            </div>

            <ul id="cart-items-list">
                </ul>

            <div class="modal-total">
                Total Belanja: <span id="cart-total-price">Rp 0</span>
            </div>

            <button class="checkout-button" onclick="showPaymentModal()" id="checkout-btn" disabled>
                üíµ Lanjutkan ke Pembayaran
            </button>
        </div>
    </div>

    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('paymentModal')">&times;</span>
            <h3 id="payment-title">üí≥ Pilih Metode Pembayaran</h3>

            <div class="payment-total-final">
                Total Tagihan: <span id="payment-final-total">Rp 0</span>
            </div>

            <div class="payment-options" style="text-align: center;">
                
                <div class="payment-group-title">Bayar dengan QRIS (Tap Gambar di bawah)</div>
                <img id="qris-button-image" onclick="showQrisModal()" 
                     src="images/qris_farel.jpg" 
                     alt="Tap untuk Scan QRIS"> 
                
                <hr style="margin: 20px 0;">

                <div class="payment-group-title">Pembayaran Langsung</div>
                <div class="payment-option" onclick="processPayment('COD')">
                    <img src="https://i.pinimg.com/73x/43/75/1f/43751fbad35c3bf1b28a14fc8de2f91f.jpg" alt="Logo COD"> 
                    <span>Cash On Delivery (Bayar di Tempat)</span>
                </div>
            </div>
            
        </div>
    </div>
    <div id="qrisDetailModal" class="modal">
        <div class="modal-content" id="qrisModalContent">
            <span class="close-button" onclick="closeModal('qrisDetailModal')">&times;</span>
            <h4>SCAN QRIS UNTUK MEMBAYAR</h4>
            <p>Silakan pindai kode QR di bawah ini menggunakan aplikasi perbankan atau e-wallet apa pun.</p>
            
            <img id="qris-full-image" src="images/qris_farel.jpg" alt="Kode QRIS Penuh">
            
            <p style="font-size: 1.5em; font-weight: bold;">
                Total Tagihan: <span id="qris-final-total-display">Rp 0</span>
            </p>
            
            <button class="add-to-cart-button" onclick="finalizePayment('QRIS')">
                ‚úÖ Saya Sudah Bayar (Konfirmasi Pembayaran)
            </button>
        </div>
    </div>
    <footer class="footer">
        &copy; 2025 Kedai Bathara. Dibuat dengan semangat 45 | Alamat: Jl. Jaka Muda No. 22, Kota Kediri.
    </footer>

    <script>
        // --- LOGIKA KERANJANG GLOBAL ---
        let selectedItem = {}; 
        let cart = []; 

        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => { page.classList.remove('active'); });
            const activePage = document.getElementById(pageId);
            if (activePage) { activePage.classList.add('active'); }
            closeAllModals(); 
            window.scrollTo(0, 0);
        }

        function closeAllModals() {
            document.getElementById('orderModal').style.display = 'none';
            document.getElementById('cartModal').style.display = 'none';
            document.getElementById('paymentModal').style.display = 'none';
            document.getElementById('qrisDetailModal').style.display = 'none'; // Tambah modal QRIS
        }

        function formatRupiah(number) {
            return 'Rp ' + number.toLocaleString('id-ID');
        }

        // --- FUNGSI MODAL PESANAN & KERANJANG ---
        function showModal(element) {
            const itemElement = element.closest('.menu-item');
            const name = itemElement.querySelector('.item-name').innerText;
            const desc = itemElement.querySelector('.item-desc').innerText;
            const priceText = itemElement.querySelector('.item-price').innerText; 
            const priceCleaned = priceText.replace(/[^\d]/g, ''); 
            const price = parseInt(priceCleaned, 10);
            selectedItem = { name, price, desc };
            document.getElementById('modal-item-name').innerText = selectedItem.name;
            document.getElementById('modal-item-desc').innerText = selectedItem.desc;
            document.getElementById('modal-item-price-text').innerText = priceText;
            document.getElementById('quantity').value = 1; 
            updateTotal();
            document.getElementById('orderModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function changeQuantity(change) {
            const quantityInput = document.getElementById('quantity');
            let currentQty = parseInt(quantityInput.value, 10);
            currentQty += change;
            if (currentQty < 1) { currentQty = 1; }
            quantityInput.value = currentQty;
            updateTotal();
        }

        function updateTotal() {
            const quantity = parseInt(document.getElementById('quantity').value, 10);
            const total = selectedItem.price * quantity;
            document.getElementById('modal-total-price').innerText = formatRupiah(total);
        }

        function addToCart() {
            const quantity = parseInt(document.getElementById('quantity').value, 10);
            const item = {
                name: selectedItem.name,
                price: selectedItem.price,
                quantity: quantity,
                total: selectedItem.price * quantity
            };
            cart.push(item);
            closeModal('orderModal');
            updateCartDisplay();
            alert(`‚úÖ ${quantity}x ${item.name} berhasil ditambahkan ke Keranjang!`);
        }

        function calculateCartTotal() {
            return cart.reduce((sum, item) => sum + item.total, 0);
        }

        function updateCartDisplay() {
            const listElement = document.getElementById('cart-items-list');
            const totalElement = document.getElementById('cart-total-price');
            const badgeElement = document.getElementById('cart-badge');
            const checkoutBtn = document.getElementById('checkout-btn');
            const emptyMessage = document.getElementById('empty-cart-message');

            listElement.innerHTML = ''; 

            if (cart.length === 0) {
                badgeElement.style.display = 'none';
                totalElement.innerText = formatRupiah(0);
                checkoutBtn.disabled = true;
                emptyMessage.style.display = 'block';
                return;
            }

            emptyMessage.style.display = 'none';
            checkoutBtn.disabled = false;

            cart.forEach((item, index) => {
                const li = document.createElement('li');
                li.className = 'cart-item';
                li.innerHTML = `
                    <span class="cart-item-name">${item.quantity}x ${item.name}</span>
                    <span>
                        ${formatRupiah(item.total)}
                        <button class="cart-item-remove" onclick="removeFromCart(${index})">x</button>
                    </span>
                `;
                listElement.appendChild(li);
            });

            const total = calculateCartTotal();
            totalElement.innerText = formatRupiah(total);
            badgeElement.innerText = cart.length;
            badgeElement.style.display = 'inline-block';
        }
